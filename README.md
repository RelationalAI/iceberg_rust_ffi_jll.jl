# `iceberg_rust_ffi_jll.jl` custom builds

This is a *custom* version of https://github.com/JuliaBinaryWrappers/iceberg_rust_ffi_jll.jl, autogenerated package constructed using [`BinaryBuilder.jl`](https://github.com/JuliaPackaging/BinaryBuilder.jl).
The custom version is intended for internal use when you want to build a custom version the JLL. In order to do that, run the `build-and-deploy` workflow, and it will:

* Modify `iceberg_rust_ffi_binarybuilder/build_tarballs.jl` with the passed in version and commit SHA of the https://github.com/RelationalAI/iceberg_rust_ffi repo.
* Deploy a new release. Make sure to pass in unique version number to the GitHub workflow.
* Produce a new branch with JLLWrappers around the artifacts in that release
* After that you may have to manually edit Artifacts.toml either to delete config for unused platforms, or to edit it to be correct for the platforms that the script didn't handle (right now it can handle `aarch64-apple-darwin` and `x86_64-linux-gnu`).

The workflow will require device-code authentication, so monitor logs for a short time to be able to do authenticate in the "Build tarballs" step.

To later use this, just reference this repostitory from your Julia, and the commit from the newly produced branch.